<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Tidy estimation of AMCEs — amce • cregg</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Tidy estimation of AMCEs — amce" />

<meta property="og:description" content="Estimate AMCEs for a conjoint analysis and return a tidy data frame of results" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cregg</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Introduction.html">Introduction to cregg</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/leeper/cregg">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Tidy estimation of AMCEs</h1>
    <small class="dont-index">Source: <a href='https://github.com/leeper/cregg/blob/master/R/amce.R'><code>R/amce.R</code></a></small>
    <div class="hidden name"><code>amce.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Estimate AMCEs for a conjoint analysis and return a tidy data frame of results</p>
    
    </div>

    <pre class="usage"><span class='fu'>amce</span>(<span class='no'>data</span>, <span class='no'>formula</span>, <span class='kw'>id</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>weights</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>feature_order</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>feature_labels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>level_order</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"ascending"</span>, <span class='st'>"descending"</span>),
  <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='no'>...</span>)

<span class='fu'>amce_by_reference</span>(<span class='no'>data</span>, <span class='no'>formula</span>, <span class='no'>variable</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame containing variables specified in <code>formula</code>. All RHS variables should be factors; the base level for each will be used in estimation and its reported AMCE will be NA (for printing). Optionally, this can instead be an object of class &#8220;survey.design&#8221; returned by <code><a href='https://www.rdocumentation.org/packages/survey/topics/svydesign'>svydesign</a></code>.</p></td>
    </tr>
    <tr>
      <th>formula</th>
      <td><p>A formula specifying an AMCE model to be estimated. All variables should be factors. Two-way constraints can be specified with an asterisk (*) between RHS features. The specific constrained level pairs within these features are then detected automatically. Higher-order constraints are not allowed.</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>An RHS formula specifying a variable holding respondent identifiers, to be used for clustering standard errors.</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>An (optional) RHS formula specifying a variable holding survey weights.</p></td>
    </tr>
    <tr>
      <th>feature_order</th>
      <td><p>An (optional) character vector specifying the names of feature (RHS) variables in the order they should be encoded in the resulting data frame.</p></td>
    </tr>
    <tr>
      <th>feature_labels</th>
      <td><p>A named list of &#8220;fancy&#8221; feature labels to be used in output. By default, the function looks for a &#8220;label&#8221; attribute on each variable in <code>formula</code> and uses that for pretty printing. This argument overrides those attributes or otherwise provides fancy labels for this purpose. This should be a list with names equal to variables on the righthand side of <code>formula</code> and character string values; arguments passed here override variable attributes.</p></td>
    </tr>
    <tr>
      <th>level_order</th>
      <td><p>A character string specifying levels (within each feature) should be ordered increasing or decreasing in the final output. This is mostly only consequential for plotting via <code><a href='plot.html'>plot.cj_mm</a></code>, etc.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>A numeric value indicating the significance level at which to calculate confidence intervals for the MMs (by default 0.95, meaning 95-percent CIs are returned).</p></td>
    </tr>
    <tr>
      <th>&#8230;</th>
      <td><p>For <code>amce</code>: additional arguments to <code><a href='https://www.rdocumentation.org/packages/stats/topics/glm'>glm</a></code> or <code><a href='https://www.rdocumentation.org/packages/survey/topics/svyglm'>svyglm</a></code>, the latter being used if <code>weights</code> is non-NULL. For <code>amce_by_reference</code>: additional arguments passed to <code>amce</code>.</p></td>
    </tr>
    <tr>
      <th>variable</th>
      <td><p>An RHS formula containing a single factor variable from <code>formula</code>. This will be used by <code>amce_by_reference</code> to estimate AMCEs relative to each possible factor level as a reference category. If more than one RHS variables are specified, the first will be used.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>amce</code> provides estimates of AMCEs (or rather, average marginal effects for each feature level). Two-way constraints can be specified with an asterisk (*) between features. The specific constrained level pairs within these features are then detected automatically. The function can also be used for calculating average component interaction effects when combined with <code>interaction</code>, and for balance testing by specifying a covariate rather outcome on the left-hand side of <code>formula</code>. See examples.</p>
<p><code>amce_by_reference</code> provides a tool for quick sensitivity analysis. AMCEs are defined relative to an arbitrary reference category (i.e., feature level). This function will loop over all feature levels (for a specified feature) to show how interpretation will be affected by choice of reference category. The resulting data frame will be a stacked result from <code>amce</code>, containing an additional <code>BY</code> column specifying which level of <code>variable</code> was used as the reference category. In unconstrained conjoint designs, only AMCEs for <code>variable</code> will vary by reference category; in constrained designs, AMCEs for any factor constrained by <code>variable</code> may also vary.</p>
<p>Users may desire to specify a <code>family</code> argument via <code>&#8230;</code>, which should be a &#8220;family&#8221; object such as <code>gaussian</code>. Sensible alternatives are <code>binomial</code> (for binary outcomes) and quasibinomial (for weighted survey data). See <code><a href='https://www.rdocumentation.org/packages/stats/topics/family'>family</a></code> for details. In such cases, effects are always reported on the link (not outcome) scale.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='diffs.html'>amce_diffs</a></code> <code><a href='mm.html'>mm</a></code> <code><a href='plot.html'>plot.cj_amce</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='st'>"taxes"</span>)
<span class='co'># estimating AMCEs</span>
<span class='fu'>amce</span>(<span class='no'>taxes</span>, <span class='no'>chose_plan</span> ~ <span class='no'>taxrate1</span> + <span class='no'>taxrate2</span> + <span class='no'>taxrate3</span> +
     <span class='no'>taxrate4</span> + <span class='no'>taxrate5</span> + <span class='no'>taxrate6</span> + <span class='no'>taxrev</span>, <span class='kw'>id</span> <span class='kw'>=</span> ~ <span class='no'>ID</span>)</div><div class='output co'>#&gt;       outcome statistic                        feature         level
#&gt; 1  chose_plan      amce          Tax rate for &lt;$10,000      &lt;10k: 0%
#&gt; 2  chose_plan      amce          Tax rate for &lt;$10,000      &lt;10k: 5%
#&gt; 3  chose_plan      amce          Tax rate for &lt;$10,000     &lt;10k: 15%
#&gt; 4  chose_plan      amce          Tax rate for &lt;$10,000     &lt;10k: 25%
#&gt; 5  chose_plan      amce   Tax rate for $10,000-$35,000    10-35k: 5%
#&gt; 6  chose_plan      amce   Tax rate for $10,000-$35,000   10-35k: 15%
#&gt; 7  chose_plan      amce   Tax rate for $10,000-$35,000   10-35k: 25%
#&gt; 8  chose_plan      amce   Tax rate for $10,000-$35,000   10-35k: 35%
#&gt; 9  chose_plan      amce   Tax rate for $25,000-$85,000    35-85k: 5%
#&gt; 10 chose_plan      amce   Tax rate for $25,000-$85,000   35-85k: 15%
#&gt; 11 chose_plan      amce   Tax rate for $25,000-$85,000   35-85k: 25%
#&gt; 12 chose_plan      amce   Tax rate for $25,000-$85,000   35-85k: 35%
#&gt; 13 chose_plan      amce  Tax rate for $85,000-$175,000   85-175k: 5%
#&gt; 14 chose_plan      amce  Tax rate for $85,000-$175,000  85-175k: 15%
#&gt; 15 chose_plan      amce  Tax rate for $85,000-$175,000  85-175k: 25%
#&gt; 16 chose_plan      amce  Tax rate for $85,000-$175,000  85-175k: 35%
#&gt; 17 chose_plan      amce Tax rate for $175,000-$375,000  175-375k: 5%
#&gt; 18 chose_plan      amce Tax rate for $175,000-$375,000 175-375k: 15%
#&gt; 19 chose_plan      amce Tax rate for $175,000-$375,000 175-375k: 25%
#&gt; 20 chose_plan      amce Tax rate for $175,000-$375,000 175-375k: 35%
#&gt; 21 chose_plan      amce Tax rate for $175,000-$375,000 175-375k: 45%
#&gt; 22 chose_plan      amce         Tax rate for &gt;$375,000     &gt;375k: 5%
#&gt; 23 chose_plan      amce         Tax rate for &gt;$375,000    &gt;375k: 15%
#&gt; 24 chose_plan      amce         Tax rate for &gt;$375,000    &gt;375k: 25%
#&gt; 25 chose_plan      amce         Tax rate for &gt;$375,000    &gt;375k: 35%
#&gt; 26 chose_plan      amce         Tax rate for &gt;$375,000    &gt;375k: 45%
#&gt; 27 chose_plan      amce         Tax rate for &gt;$375,000    &gt;375k: 55%
#&gt; 28 chose_plan      amce                    Tax revenue          &lt;75%
#&gt; 29 chose_plan      amce                    Tax revenue        75-95%
#&gt; 30 chose_plan      amce                    Tax revenue       95-105%
#&gt; 31 chose_plan      amce                    Tax revenue      105-125%
#&gt; 32 chose_plan      amce                    Tax revenue         &gt;125%
#&gt;         estimate   std.error            z            p        lower
#&gt; 1   0.0000000000          NA           NA           NA           NA
#&gt; 2  -0.0139987267 0.008367718  -1.67294431 9.433826e-02 -0.030399153
#&gt; 3  -0.0897702241 0.009883554  -9.08278760 1.058290e-19 -0.109141634
#&gt; 4  -0.2215066470 0.012497932 -17.72346405 2.763584e-70 -0.246002143
#&gt; 5   0.0000000000          NA           NA           NA           NA
#&gt; 6  -0.0161677383 0.010015769  -1.61422834 1.064779e-01 -0.035798285
#&gt; 7  -0.0849079259 0.015824370  -5.36564325 8.066123e-08 -0.115923122
#&gt; 8  -0.1868125806 0.021074682  -8.86431331 7.697701e-19 -0.228118198
#&gt; 9   0.0000000000          NA           NA           NA           NA
#&gt; 10  0.0005356495 0.008242105   0.06498941 9.481824e-01 -0.015618579
#&gt; 11 -0.0533364485 0.009713809  -5.49078620 4.001485e-08 -0.072375164
#&gt; 12 -0.1083416179 0.011917151  -9.09123502 9.792035e-20 -0.131698804
#&gt; 13  0.0000000000          NA           NA           NA           NA
#&gt; 14  0.0194226595 0.007719126   2.51617354 1.186368e-02  0.004293451
#&gt; 15  0.0108897506 0.008078966   1.34791393 1.776861e-01 -0.004944732
#&gt; 16 -0.0015463277 0.008431674  -0.18339509 8.544880e-01 -0.018072106
#&gt; 17  0.0000000000          NA           NA           NA           NA
#&gt; 18  0.0384042184 0.008581007   4.47549088 7.623595e-06  0.021585754
#&gt; 19  0.0504838117 0.008867028   5.69343070 1.245118e-08  0.033104755
#&gt; 20  0.0716090284 0.009162901   7.81510419 5.491758e-15  0.053650072
#&gt; 21  0.0441842455 0.009601062   4.60201624 4.184206e-06  0.025366509
#&gt; 22  0.0000000000          NA           NA           NA           NA
#&gt; 23  0.0729290882 0.009630408   7.57279301 3.652841e-14  0.054053835
#&gt; 24  0.1023481041 0.010525057   9.72423245 2.376912e-22  0.081719371
#&gt; 25  0.1342706760 0.011342675  11.83765516 2.493265e-32  0.112039441
#&gt; 26  0.1456934759 0.012358893  11.78855405 4.471520e-32  0.121470491
#&gt; 27  0.1190155301 0.013344593   8.91863335 4.720775e-19  0.092860609
#&gt; 28  0.0000000000          NA           NA           NA           NA
#&gt; 29  0.0155562019 0.011532459   1.34890584 1.773672e-01 -0.007047003
#&gt; 30  0.0433356897 0.016694623   2.59578726 9.437448e-03  0.010614830
#&gt; 31  0.0613870891 0.020195352   3.03966418 2.368421e-03  0.021804926
#&gt; 32  0.0866358183 0.027742084   3.12290235 1.790772e-03  0.032262333
#&gt;           upper
#&gt; 1            NA
#&gt; 2   0.002401700
#&gt; 3  -0.070398814
#&gt; 4  -0.197011151
#&gt; 5            NA
#&gt; 6   0.003462808
#&gt; 7  -0.053892730
#&gt; 8  -0.145506964
#&gt; 9            NA
#&gt; 10  0.016689878
#&gt; 11 -0.034297733
#&gt; 12 -0.084984432
#&gt; 13           NA
#&gt; 14  0.034551868
#&gt; 15  0.026724233
#&gt; 16  0.014979450
#&gt; 17           NA
#&gt; 18  0.055222683
#&gt; 19  0.067862868
#&gt; 20  0.089567985
#&gt; 21  0.063001982
#&gt; 22           NA
#&gt; 23  0.091804341
#&gt; 24  0.122976837
#&gt; 25  0.156501911
#&gt; 26  0.169916461
#&gt; 27  0.145170451
#&gt; 28           NA
#&gt; 29  0.038159407
#&gt; 30  0.076056550
#&gt; 31  0.100969252
#&gt; 32  0.141009303</div><div class='input'>
</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='st'>"immigration"</span>)
<span class='co'># estimating AMCEs with constraints</span>
<span class='fu'>amce</span>(<span class='no'>immigration</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>Gender</span> + <span class='no'>ReasonForApplication</span> * <span class='no'>CountryOfOrigin</span>,
     <span class='kw'>id</span> <span class='kw'>=</span> ~<span class='no'>CaseID</span>)</div><div class='output co'>#&gt;            outcome statistic                feature               level
#&gt; 1  ChosenImmigrant      amce                 Gender              Female
#&gt; 2  ChosenImmigrant      amce                 Gender                Male
#&gt; 3  ChosenImmigrant      amce Reason for Application Reunite with Family
#&gt; 4  ChosenImmigrant      amce Reason for Application     Seek Better Job
#&gt; 5  ChosenImmigrant      amce Reason for Application  Escape Persecution
#&gt; 6  ChosenImmigrant      amce      Country of Origin               India
#&gt; 7  ChosenImmigrant      amce      Country of Origin             Germany
#&gt; 8  ChosenImmigrant      amce      Country of Origin              France
#&gt; 9  ChosenImmigrant      amce      Country of Origin              Mexico
#&gt; 10 ChosenImmigrant      amce      Country of Origin         Philippines
#&gt; 11 ChosenImmigrant      amce      Country of Origin              Poland
#&gt; 12 ChosenImmigrant      amce      Country of Origin               China
#&gt; 13 ChosenImmigrant      amce      Country of Origin               Sudan
#&gt; 14 ChosenImmigrant      amce      Country of Origin             Somalia
#&gt; 15 ChosenImmigrant      amce      Country of Origin                Iraq
#&gt;       estimate   std.error          z            p        lower        upper
#&gt; 1   0.00000000          NA         NA           NA           NA           NA
#&gt; 2  -0.02386974 0.008480962 -2.8145085 4.885188e-03 -0.040492122 -0.007247360
#&gt; 3   0.00000000          NA         NA           NA           NA           NA
#&gt; 4  -0.04021489 0.009280447 -4.3332921 1.468960e-05 -0.055479862 -0.024949909
#&gt; 5   0.06348691 0.016457202  3.8576974 1.144602e-04  0.036417217  0.090556594
#&gt; 6   0.00000000          NA         NA           NA           NA           NA
#&gt; 7   0.04121730 0.018742720  2.1991098 2.787012e-02  0.010388267  0.072046328
#&gt; 8   0.01525971 0.018683163  0.8167628 4.140640e-01 -0.015471357  0.045990781
#&gt; 9   0.01035101 0.018942714  0.5464374 5.847653e-01 -0.020806985  0.041508998
#&gt; 10  0.02924740 0.018847108  1.5518242 1.207043e-01 -0.001753336  0.060248133
#&gt; 11  0.02461786 0.018815217  1.3084015 1.907372e-01 -0.006330420  0.055566137
#&gt; 12 -0.02825290 0.022297912 -1.2670648 2.051321e-01 -0.064929701  0.008423902
#&gt; 13 -0.04805734 0.022367903 -2.1484957 3.167440e-02 -0.084849267 -0.011265416
#&gt; 14 -0.05482678 0.022326453 -2.4556869 1.406156e-02 -0.091550525 -0.018103031
#&gt; 15 -0.11905836 0.021435015 -5.5543868 2.785881e-08 -0.154315823 -0.083800900</div><div class='input'>
<span class='co'># estimating average component interaction effects (AMCEs of feature combinations)</span>
<span class='no'>immigration</span>$<span class='no'>language_entry</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/interaction'>interaction</a></span>(<span class='no'>immigration</span>$<span class='no'>LanguageSkills</span>,
                                          <span class='no'>immigration</span>$<span class='no'>PriorEntry</span>, <span class='kw'>sep</span> <span class='kw'>=</span> <span class='st'>"_"</span>)
<span class='fu'>amce</span>(<span class='no'>immigration</span>,<span class='no'>ChosenImmigrant</span> ~ <span class='no'>language_entry</span>, <span class='kw'>id</span> <span class='kw'>=</span> ~<span class='no'>CaseID</span>)</div><div class='output co'>#&gt;            outcome statistic        feature
#&gt; 1  ChosenImmigrant      amce language_entry
#&gt; 2  ChosenImmigrant      amce language_entry
#&gt; 3  ChosenImmigrant      amce language_entry
#&gt; 4  ChosenImmigrant      amce language_entry
#&gt; 5  ChosenImmigrant      amce language_entry
#&gt; 6  ChosenImmigrant      amce language_entry
#&gt; 7  ChosenImmigrant      amce language_entry
#&gt; 8  ChosenImmigrant      amce language_entry
#&gt; 9  ChosenImmigrant      amce language_entry
#&gt; 10 ChosenImmigrant      amce language_entry
#&gt; 11 ChosenImmigrant      amce language_entry
#&gt; 12 ChosenImmigrant      amce language_entry
#&gt; 13 ChosenImmigrant      amce language_entry
#&gt; 14 ChosenImmigrant      amce language_entry
#&gt; 15 ChosenImmigrant      amce language_entry
#&gt; 16 ChosenImmigrant      amce language_entry
#&gt; 17 ChosenImmigrant      amce language_entry
#&gt; 18 ChosenImmigrant      amce language_entry
#&gt; 19 ChosenImmigrant      amce language_entry
#&gt; 20 ChosenImmigrant      amce language_entry
#&gt;                                              level    estimate  std.error
#&gt; 1                             Fluent English_Never  0.00000000         NA
#&gt; 2                             Broken English_Never -0.09639390 0.02618064
#&gt; 3                   Tried English but Unable_Never -0.17526907 0.02582059
#&gt; 4                           Used Interpreter_Never -0.17542363 0.02683525
#&gt; 5                   Fluent English_Once as Tourist  0.03664704 0.02615310
#&gt; 6                   Broken English_Once as Tourist -0.02639390 0.02572048
#&gt; 7         Tried English but Unable_Once as Tourist -0.07680028 0.02665136
#&gt; 8                 Used Interpreter_Once as Tourist -0.15054298 0.02661602
#&gt; 9             Fluent English_Many Times as Tourist  0.02582832 0.02547902
#&gt; 10            Broken English_Many Times as Tourist -0.02041705 0.02647773
#&gt; 11  Tried English but Unable_Many Times as Tourist -0.08809827 0.02648818
#&gt; 12          Used Interpreter_Many Times as Tourist -0.13849139 0.02736039
#&gt; 13           Fluent English_Six Months with Family  0.02860610 0.02572849
#&gt; 14           Broken English_Six Months with Family  0.00449631 0.02642545
#&gt; 15 Tried English but Unable_Six Months with Family -0.07200365 0.02593916
#&gt; 16         Used Interpreter_Six Months with Family -0.11206341 0.02683160
#&gt; 17           Fluent English_Once w/o Authorization -0.13127762 0.02624380
#&gt; 18           Broken English_Once w/o Authorization -0.20980331 0.02644584
#&gt; 19 Tried English but Unable_Once w/o Authorization -0.27527953 0.02577453
#&gt; 20         Used Interpreter_Once w/o Authorization -0.28126785 0.02589821
#&gt;              z            p       lower       upper
#&gt; 1           NA           NA          NA          NA
#&gt; 2   -3.6818774 2.315227e-04 -0.14770700 -0.04508079
#&gt; 3   -6.7879576 1.137321e-11 -0.22587650 -0.12466164
#&gt; 4   -6.5370602 6.273978e-11 -0.22801975 -0.12282751
#&gt; 5    1.4012500 1.611393e-01 -0.01461210  0.08790618
#&gt; 6   -1.0261820 3.048058e-01 -0.07680512  0.02401732
#&gt; 7   -2.8816643 3.955810e-03 -0.12903600 -0.02456457
#&gt; 8   -5.6561043 1.548474e-08 -0.20270942 -0.09837654
#&gt; 9    1.0137094 3.107214e-01 -0.02410964  0.07576629
#&gt; 10  -0.7711028 4.406460e-01 -0.07231245  0.03147835
#&gt; 11  -3.3259466 8.811880e-04 -0.14001415 -0.03618239
#&gt; 12  -5.0617482 4.154294e-07 -0.19211676 -0.08486601
#&gt; 13   1.1118456 2.662046e-01 -0.02182080  0.07903301
#&gt; 14   0.1701507 8.648916e-01 -0.04729663  0.05628925
#&gt; 15  -2.7758665 5.505482e-03 -0.12284348 -0.02116383
#&gt; 16  -4.1765458 2.959692e-05 -0.16465239 -0.05947444
#&gt; 17  -5.0022344 5.666961e-07 -0.18271451 -0.07984072
#&gt; 18  -7.9333195 2.133646e-15 -0.26163621 -0.15797042
#&gt; 19 -10.6802923 1.258746e-26 -0.32579668 -0.22476238
#&gt; 20 -10.8605119 1.777501e-27 -0.33202741 -0.23050828</div><div class='input'>
<span class='co'># balance testing example</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='fu'>amce</span>(<span class='no'>immigration</span>[!<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/NA'>is.na</a></span>(<span class='no'>immigration</span>$<span class='no'>ethnocentrism</span>),],
     <span class='no'>ethnocentrism</span> ~ <span class='no'>Gender</span> + <span class='no'>Education</span> + <span class='no'>LanguageSkills</span>, <span class='kw'>id</span> <span class='kw'>=</span> ~ <span class='no'>CaseID</span>))</div><div class='img'><img src='amce-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># reference category sensitivity</span>
<span class='no'>x</span> <span class='kw'>&lt;-</span> <span class='fu'>amce_by_reference</span>(<span class='no'>immigration</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>LanguageSkills</span> + <span class='no'>Education</span>,
       <span class='kw'>variable</span> <span class='kw'>=</span> ~ <span class='no'>LanguageSkills</span>, <span class='kw'>id</span> <span class='kw'>=</span> ~ <span class='no'>CaseID</span>)
<span class='co'># plot</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/graphics/topics/plot'>plot</a></span>(<span class='no'>x</span>, <span class='kw'>group</span> <span class='kw'>=</span> <span class='st'>"BY"</span>)</div><div class='img'><img src='amce-2.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Thomas J. Leeper.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

