<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Marginal Means — mm • cregg</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Marginal Means — mm" />
<meta property="og:description" content="Calculate (descriptive) marginal means (MMs) from a conjoint design" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cregg</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Introduction.html">Introduction to cregg</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/leeper/cregg">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Marginal Means</h1>
    <small class="dont-index">Source: <a href='https://github.com/leeper/cregg/blob/master/R/mm.R'><code>R/mm.R</code></a></small>
    <div class="hidden name"><code>mm.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate (descriptive) marginal means (MMs) from a conjoint design</p>
    </div>

    <pre class="usage"><span class='fu'>mm</span>(
  <span class='no'>data</span>,
  <span class='no'>formula</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> ~<span class='fl'>0</span>,
  <span class='kw'>weights</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>feature_order</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>feature_labels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>level_order</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ascending"</span>, <span class='st'>"descending"</span>),
  <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>,
  <span class='kw'>h0</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame containing variables specified in <code>formula</code>. All RHS variables should be factors.</p></td>
    </tr>
    <tr>
      <th>formula</th>
      <td><p>A formula specifying an outcome (LHS) and conjoint features (RHS) to describe. All variables should be factors; all levels across features should be unique, with constraints specified with an asterisk (*) between features, as in <code>amce</code>.</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>An RHS formula specifying a variable holding respondent identifiers, to be used for clustering standard errors. By default, data are unclustered.</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>An (optional) RHS formula specifying a variable holding survey weights.</p></td>
    </tr>
    <tr>
      <th>feature_order</th>
      <td><p>An (optional) character vector specifying the names of feature (RHS) variables in the order they should be encoded in the resulting data frame.</p></td>
    </tr>
    <tr>
      <th>feature_labels</th>
      <td><p>A named list of &#8220;fancy&#8221; feature labels to be used in output. By default, the function looks for a &#8220;label&#8221; attribute on each variable in <code>formula</code> and uses that for pretty printing. This argument overrides those attributes or otherwise provides fancy labels for this purpose. This should be a list with names equal to variables on the righthand side of <code>formula</code> and character string values; arguments passed here override variable attributes.</p></td>
    </tr>
    <tr>
      <th>level_order</th>
      <td><p>A character string specifying levels (within each feature) should be ordered increasing or decreasing in the final output. This is mostly only consequential for plotting via <code><a href='plot.html'>plot.cj_mm</a></code>, etc.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>A numeric value indicating the significance level at which to calculate confidence intervals for the MMs (by default 0.95, meaning 95-percent CIs are returned).</p></td>
    </tr>
    <tr>
      <th>h0</th>
      <td><p>A numeric value specifying a null hypothesis value to use when generating z-statistics and p-values.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Ignored.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame of class &#8220;cj_mm&#8221;</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>mm</code> provides descriptive representations of conjoint data as marginal means (MMs), which represent the mean outcome across all appearances of a particular conjoint feature level, averaging across all other features. In forced choice conjoint designs with two profiles per choice task, MMs by definition average 0.5 with values above 0.5 indicating features that increase profile favorability and values below 0.5 indicating features that decrease profile favorability. For continuous outcomes, MMs can take any value in the full range of the outcome.</p>
<p>But note that if feature levels can co-occur, such that both alternatives share a feature level, then the MMs on forced choice outcomes are bounded by the probability of co-occurrence (as a lower bound) and 1 minus that probability as an upper bound.</p>
<p>Plotting functionality is provided in <code><a href='plot.html'>plot.cj_mm</a></code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='diffs.html'>mm_diffs</a></code> <code><a href='plot.html'>plot.cj_mm</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>immigration</span>)
<span class='co'># marginal means</span>
<span class='fu'>mm</span>(<span class='no'>immigration</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>Gender</span> + <span class='no'>Education</span> + <span class='no'>LanguageSkills</span>,
   <span class='kw'>id</span> <span class='kw'>=</span> ~ <span class='no'>CaseID</span>, <span class='kw'>h0</span> <span class='kw'>=</span> <span class='fl'>0.5</span>)</div><div class='output co'>#&gt;            outcome statistic                feature                    level
#&gt; 1  ChosenImmigrant        mm                 Gender                   Female
#&gt; 2  ChosenImmigrant        mm                 Gender                     Male
#&gt; 3  ChosenImmigrant        mm Educational Attainment                No Formal
#&gt; 4  ChosenImmigrant        mm Educational Attainment                4th Grade
#&gt; 5  ChosenImmigrant        mm Educational Attainment                8th Grade
#&gt; 6  ChosenImmigrant        mm Educational Attainment              High School
#&gt; 7  ChosenImmigrant        mm Educational Attainment         Two-Year College
#&gt; 8  ChosenImmigrant        mm Educational Attainment           College Degree
#&gt; 9  ChosenImmigrant        mm Educational Attainment          Graduate Degree
#&gt; 10 ChosenImmigrant        mm        Language Skills           Fluent English
#&gt; 11 ChosenImmigrant        mm        Language Skills           Broken English
#&gt; 12 ChosenImmigrant        mm        Language Skills Tried English but Unable
#&gt; 13 ChosenImmigrant        mm        Language Skills         Used Interpreter
#&gt;     estimate   std.error          z            p     lower     upper
#&gt; 1  0.5117812 0.004176882   2.820574 4.793778e-03 0.5035947 0.5199677
#&gt; 2  0.4877013 0.004353571  -2.824964 4.728592e-03 0.4791685 0.4962342
#&gt; 3  0.3895112 0.010396937 -10.627053 2.230500e-26 0.3691336 0.4098888
#&gt; 4  0.4222002 0.010291045  -7.559951 4.032206e-14 0.4020301 0.4423703
#&gt; 5  0.4444444 0.010183074  -5.455676 4.878681e-08 0.4244860 0.4644029
#&gt; 6  0.5075226 0.010189329   0.738279 4.603449e-01 0.4875518 0.5274933
#&gt; 7  0.5655860 0.010227744   6.412561 1.430949e-10 0.5455400 0.5856320
#&gt; 8  0.5888945 0.010268403   8.657096 4.839344e-18 0.5687688 0.6090202
#&gt; 9  0.5812686 0.010393398   7.819251 5.313867e-15 0.5608979 0.6016393
#&gt; 10 0.5875280 0.007305481  11.981136 4.461689e-33 0.5732095 0.6018464
#&gt; 11 0.5261628 0.007490787   3.492662 4.782307e-04 0.5114811 0.5408445
#&gt; 12 0.4592973 0.007417263  -5.487558 4.075292e-08 0.4447598 0.4738349
#&gt; 13 0.4243392 0.007564513 -10.002066 1.492498e-23 0.4095131 0.4391654</div><div class='input'>
<span class='co'># higher-order marginal means with feature interactions</span>
<span class='no'>immigration</span>$<span class='no'>language_entry</span> <span class='kw'>&lt;-</span>
  <span class='fu'><a href='https://rdrr.io/r/base/interaction.html'>interaction</a></span>(<span class='no'>immigration</span>$<span class='no'>LanguageSkills</span>, <span class='no'>immigration</span>$<span class='no'>PriorEntry</span>, <span class='kw'>sep</span> <span class='kw'>=</span> <span class='st'>"_"</span>)
<span class='fu'>mm</span>(<span class='no'>immigration</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>language_entry</span>,
   <span class='kw'>id</span> <span class='kw'>=</span> ~<span class='no'>CaseID</span>)</div><div class='output co'>#&gt;            outcome statistic        feature
#&gt; 1  ChosenImmigrant        mm language_entry
#&gt; 2  ChosenImmigrant        mm language_entry
#&gt; 3  ChosenImmigrant        mm language_entry
#&gt; 4  ChosenImmigrant        mm language_entry
#&gt; 5  ChosenImmigrant        mm language_entry
#&gt; 6  ChosenImmigrant        mm language_entry
#&gt; 7  ChosenImmigrant        mm language_entry
#&gt; 8  ChosenImmigrant        mm language_entry
#&gt; 9  ChosenImmigrant        mm language_entry
#&gt; 10 ChosenImmigrant        mm language_entry
#&gt; 11 ChosenImmigrant        mm language_entry
#&gt; 12 ChosenImmigrant        mm language_entry
#&gt; 13 ChosenImmigrant        mm language_entry
#&gt; 14 ChosenImmigrant        mm language_entry
#&gt; 15 ChosenImmigrant        mm language_entry
#&gt; 16 ChosenImmigrant        mm language_entry
#&gt; 17 ChosenImmigrant        mm language_entry
#&gt; 18 ChosenImmigrant        mm language_entry
#&gt; 19 ChosenImmigrant        mm language_entry
#&gt; 20 ChosenImmigrant        mm language_entry
#&gt;                                              level  estimate  std.error
#&gt; 1                             Fluent English_Never 0.5963939 0.01794824
#&gt; 2                             Broken English_Never 0.5000000 0.01868574
#&gt; 3                   Tried English but Unable_Never 0.4211248 0.01813613
#&gt; 4                           Used Interpreter_Never 0.4209703 0.01908138
#&gt; 5                   Fluent English_Once as Tourist 0.6330409 0.01802151
#&gt; 6                   Broken English_Once as Tourist 0.5700000 0.01790043
#&gt; 7         Tried English but Unable_Once as Tourist 0.5195936 0.01831354
#&gt; 8                 Used Interpreter_Once as Tourist 0.4458509 0.01830720
#&gt; 9             Fluent English_Many Times as Tourist 0.6222222 0.01744591
#&gt; 10            Broken English_Many Times as Tourist 0.5759768 0.01828850
#&gt; 11  Tried English but Unable_Many Times as Tourist 0.5082956 0.01909682
#&gt; 12          Used Interpreter_Many Times as Tourist 0.4579025 0.01945735
#&gt; 13           Fluent English_Six Months with Family 0.6250000 0.01770276
#&gt; 14           Broken English_Six Months with Family 0.6008902 0.01855907
#&gt; 15 Tried English but Unable_Six Months with Family 0.5243902 0.01786358
#&gt; 16         Used Interpreter_Six Months with Family 0.4843305 0.01840726
#&gt; 17           Fluent English_Once w/o Authorization 0.4651163 0.01854707
#&gt; 18           Broken English_Once w/o Authorization 0.3865906 0.01829631
#&gt; 19 Tried English but Unable_Once w/o Authorization 0.3211144 0.01759690
#&gt; 20         Used Interpreter_Once w/o Authorization 0.3151261 0.01724809
#&gt;           z             p     lower     upper
#&gt; 1  33.22854 4.168770e-242 0.5612160 0.6315718
#&gt; 2  26.75837 9.867229e-158 0.4633766 0.5366234
#&gt; 3  23.22022 2.845436e-119 0.3855787 0.4566710
#&gt; 4  22.06184 7.353720e-108 0.3835714 0.4583691
#&gt; 5  35.12697 2.613148e-270 0.5977194 0.6683624
#&gt; 6  31.84281 1.655498e-222 0.5349158 0.6050842
#&gt; 7  28.37210 4.469109e-177 0.4836997 0.5554875
#&gt; 8  24.35385 5.277043e-131 0.4099695 0.4817324
#&gt; 9  35.66578 1.341493e-278 0.5880289 0.6564156
#&gt; 10 31.49393 1.051800e-217 0.5401320 0.6118217
#&gt; 11 26.61677 4.341482e-156 0.4708666 0.5457247
#&gt; 12 23.53365 1.846108e-122 0.4197668 0.4960382
#&gt; 13 35.30524 4.880534e-273 0.5903032 0.6596968
#&gt; 14 32.37718 5.752405e-230 0.5645151 0.6372653
#&gt; 15 29.35527 2.046636e-189 0.4893783 0.5594022
#&gt; 16 26.31193 1.400650e-152 0.4482529 0.5204081
#&gt; 17 25.07761 8.729019e-139 0.4287647 0.5014679
#&gt; 18 21.12943  4.266321e-99 0.3507305 0.4224507
#&gt; 19 18.24834  2.132739e-74 0.2866251 0.3556037
#&gt; 20 18.27020  1.429226e-74 0.2813204 0.3489317</div><div class='input'># }
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Thomas J. Leeper.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


