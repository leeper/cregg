<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Plot AMCE estimates, MM descriptives, and frequency plots — plot.cj_amce • cregg</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Plot AMCE estimates, MM descriptives, and frequency plots — plot.cj_amce" />
<meta property="og:description" content="ggplot2-based plotting of conjoint AMCEs estimates and MMs, and differences" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cregg</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Introduction.html">Introduction to cregg</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/leeper/cregg">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plot AMCE estimates, MM descriptives, and frequency plots</h1>
    <small class="dont-index">Source: <a href='https://github.com/leeper/cregg/blob/master/R/plot_cj_amce.R'><code>R/plot_cj_amce.R</code></a>, <a href='https://github.com/leeper/cregg/blob/master/R/plot_cj_diffs.R'><code>R/plot_cj_diffs.R</code></a>, <a href='https://github.com/leeper/cregg/blob/master/R/plot_cj_freqs.R'><code>R/plot_cj_freqs.R</code></a>, and 2 more</small>
    <div class="hidden name"><code>plot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>ggplot2-based plotting of conjoint AMCEs estimates and MMs, and differences</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for cj_amce</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(
  <span class='no'>x</span>,
  <span class='kw'>group</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span>(<span class='no'>x</span>, <span class='st'>"by"</span>),
  <span class='kw'>feature_headers</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>header_fmt</span> <span class='kw'>=</span> <span class='st'>"(%s)"</span>,
  <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='st'>"Estimated AMCE"</span>,
  <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>legend_title</span> <span class='kw'>=</span> <span class='kw'>if</span> (<span class='fu'><a href='https://rdrr.io/r/base/NULL.html'>is.null</a></span>(<span class='no'>group</span>)) <span class='st'>"Feature"</span> <span class='kw'>else</span> <span class='no'>group</span>,
  <span class='kw'>legend_pos</span> <span class='kw'>=</span> <span class='st'>"bottom"</span>,
  <span class='kw'>xlim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>vline</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>vline_color</span> <span class='kw'>=</span> <span class='st'>"gray"</span>,
  <span class='kw'>theme</span> <span class='kw'>=</span> <span class='kw pkg'>ggplot2</span><span class='kw ns'>::</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_bw</a></span>(),
  <span class='no'>...</span>
)

<span class='co'># S3 method for cj_diffs</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(
  <span class='no'>x</span>,
  <span class='kw'>group</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span>(<span class='no'>x</span>, <span class='st'>"by"</span>),
  <span class='kw'>feature_headers</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>header_fmt</span> <span class='kw'>=</span> <span class='st'>"(%s)"</span>,
  <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='st'>"Estimated Difference"</span>,
  <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>legend_title</span> <span class='kw'>=</span> <span class='kw'>if</span> (<span class='fu'><a href='https://rdrr.io/r/base/NULL.html'>is.null</a></span>(<span class='no'>group</span>)) <span class='st'>"Feature"</span> <span class='kw'>else</span> <span class='no'>group</span>,
  <span class='kw'>legend_pos</span> <span class='kw'>=</span> <span class='st'>"bottom"</span>,
  <span class='kw'>xlim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>vline</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>vline_color</span> <span class='kw'>=</span> <span class='st'>"gray"</span>,
  <span class='kw'>theme</span> <span class='kw'>=</span> <span class='kw pkg'>ggplot2</span><span class='kw ns'>::</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_bw</a></span>(),
  <span class='no'>...</span>
)

<span class='co'># S3 method for cj_freqs</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(
  <span class='no'>x</span>,
  <span class='kw'>group</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span>(<span class='no'>x</span>, <span class='st'>"by"</span>),
  <span class='kw'>feature_headers</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>header_fmt</span> <span class='kw'>=</span> <span class='st'>"(%s)"</span>,
  <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='st'>"Frequency"</span>,
  <span class='kw'>legend_title</span> <span class='kw'>=</span> <span class='kw'>if</span> (<span class='fu'><a href='https://rdrr.io/r/base/NULL.html'>is.null</a></span>(<span class='no'>group</span>)) <span class='st'>"Feature"</span> <span class='kw'>else</span> <span class='no'>group</span>,
  <span class='kw'>legend_pos</span> <span class='kw'>=</span> <span class='st'>"bottom"</span>,
  <span class='kw'>theme</span> <span class='kw'>=</span> <span class='kw pkg'>ggplot2</span><span class='kw ns'>::</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_bw</a></span>(),
  <span class='no'>...</span>
)

<span class='co'># S3 method for cj_mm</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(
  <span class='no'>x</span>,
  <span class='kw'>group</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span>(<span class='no'>x</span>, <span class='st'>"by"</span>),
  <span class='kw'>feature_headers</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>header_fmt</span> <span class='kw'>=</span> <span class='st'>"(%s)"</span>,
  <span class='kw'>size</span> <span class='kw'>=</span> <span class='fl'>1</span>,
  <span class='kw'>xlab</span> <span class='kw'>=</span> <span class='st'>"Marginal Mean"</span>,
  <span class='kw'>ylab</span> <span class='kw'>=</span> <span class='st'>""</span>,
  <span class='kw'>legend_title</span> <span class='kw'>=</span> <span class='kw'>if</span> (<span class='fu'><a href='https://rdrr.io/r/base/NULL.html'>is.null</a></span>(<span class='no'>group</span>)) <span class='st'>"Feature"</span> <span class='kw'>else</span> <span class='no'>group</span>,
  <span class='kw'>legend_pos</span> <span class='kw'>=</span> <span class='st'>"bottom"</span>,
  <span class='kw'>xlim</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>vline</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='kw'>vline_color</span> <span class='kw'>=</span> <span class='st'>"gray"</span>,
  <span class='kw'>theme</span> <span class='kw'>=</span> <span class='kw pkg'>ggplot2</span><span class='kw ns'>::</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_bw</a></span>(),
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A data frame returned from <code><a href='cregg.html'>cj</a></code> or <code><a href='mm.html'>mm</a></code>.</p></td>
    </tr>
    <tr>
      <th>group</th>
      <td><p>Optionally a character string specifying a grouping factor. This is useful when, for example, subgroup analyses or comparing AMCEs for different outcomes. An alternative is to use <code><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></code> for faceted graphics.</p></td>
    </tr>
    <tr>
      <th>feature_headers</th>
      <td><p>A logical indicating whether to include headers for each feature to visually separate levels for each feature (beyond the color palette).</p></td>
    </tr>
    <tr>
      <th>header_fmt</th>
      <td><p>A character string specifying a <code>fmt</code> argument to <code><a href='https://rdrr.io/r/base/sprintf.html'>sprintf</a></code>, which will be used when generating the feature headers (if <code>feature_headers = TRUE</code>).</p></td>
    </tr>
    <tr>
      <th>size</th>
      <td><p>A numeric value specifying point size in <code><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></code>.</p></td>
    </tr>
    <tr>
      <th>xlab</th>
      <td><p>A label for the x-axis</p></td>
    </tr>
    <tr>
      <th>ylab</th>
      <td><p>A label for the y-axis</p></td>
    </tr>
    <tr>
      <th>legend_title</th>
      <td><p>A character string specifying a label for the legend.</p></td>
    </tr>
    <tr>
      <th>legend_pos</th>
      <td><p>An argument forwarded to the <code>legend.position</code> argument in <code><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></code>.</p></td>
    </tr>
    <tr>
      <th>xlim</th>
      <td><p>A two-element number vector specifying limits for the x-axis. If <code>NULL</code>, a default value is calculated from the data.</p></td>
    </tr>
    <tr>
      <th>vline</th>
      <td><p>Optionally, a numeric value specifying an x-intercept for a vertical line. This can be useful in distinguishing the midpoint of the estimates (e.g., a zero line for AMCEs).</p></td>
    </tr>
    <tr>
      <th>vline_color</th>
      <td><p>A character string specifying a color for the <code>vline</code>.</p></td>
    </tr>
    <tr>
      <th>theme</th>
      <td><p>A ggplot2 theme object</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Ignored.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A ggplot2 object</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>These are convenience functions for quickly plotting results from cregg. Because <code>plot</code> returns ggplot2 objects, these are easily manipulated using standard ggplot2 operations.</p>
<p>Note that ggplot2, by default, sorts factors (like feature names here) in what might be the opposite order of what you would expect and in the opposite order that cregg functions sort their output.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='amce.html'>amce</a></code>, <code><a href='mm.html'>mm</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='fu'><a href='https://rdrr.io/r/base/library.html'>require</a></span>(<span class='st'>"ggplot2"</span>)</div><div class='output co'>#&gt; <span class='message'>Loading required package: ggplot2</span></div><div class='input'><span class='co'># load data</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"immigration"</span>)
<span class='no'>immigration</span>$<span class='no'>contest_no</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='no'>immigration</span>$<span class='no'>contest_no</span>)

<span class='co'># calculate MMs</span>
<span class='no'>d1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='mm.html'>mm</a></span>(<span class='no'>immigration</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>Gender</span> + <span class='no'>Education</span> +
         <span class='no'>LanguageSkills</span> + <span class='no'>CountryOfOrigin</span> + <span class='no'>Job</span> + <span class='no'>JobExperience</span> +
         <span class='no'>JobPlans</span> + <span class='no'>ReasonForApplication</span> + <span class='no'>PriorEntry</span>, <span class='kw'>id</span> <span class='kw'>=</span> ~ <span class='no'>CaseID</span>)

<span class='co'># plot MMs</span>
<span class='co'>## simple plot</span>
(<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>d1</span>, <span class='kw'>vline</span> <span class='kw'>=</span> <span class='fl'>0.5</span>))</div><div class='img'><img src='plot-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>## gridlines to aid interpretation</span>
<span class='no'>p</span> + <span class='kw pkg'>ggplot2</span><span class='kw ns'>::</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_grey</a></span>()</div><div class='img'><img src='plot-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>## monochrome bars</span>
<span class='no'>p</span> + <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_color_manual</a></span>(<span class='kw'>values</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='st'>"black"</span>, <span class='fl'>9</span>))</div><div class='output co'>#&gt; <span class='message'>Scale for 'colour' is already present. Adding another scale for 'colour',</span>
#&gt; <span class='message'>which will replace the existing scale.</span></div><div class='img'><img src='plot-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>## plot with estimates shown as text labels</span>
<span class='no'>p</span> + <span class='kw pkg'>ggplot2</span><span class='kw ns'>::</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span>(
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>label</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sprintf.html'>sprintf</a></span>(<span class='st'>"%0.2f (%0.2f)"</span>, <span class='no'>estimate</span>, <span class='no'>std.error</span>)),
  <span class='kw'>colour</span> <span class='kw'>=</span> <span class='st'>"black"</span>, <span class='kw'>position</span> <span class='kw'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/position_nudge.html'>position_nudge</a></span>(<span class='kw'>y</span> <span class='kw'>=</span> <span class='fl'>.5</span>)
)</div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 9 rows containing missing values (geom_text).</span></div><div class='img'><img src='plot-4.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>## plot with facetting by feature</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>d1</span>, <span class='kw'>feature_headers</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>) +
  <span class='kw pkg'>ggplot2</span><span class='kw ns'>::</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span>(~<span class='no'>feature</span>, <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>1L</span>,
                      <span class='kw'>scales</span> <span class='kw'>=</span> <span class='st'>"free_y"</span>, <span class='kw'>strip.position</span> <span class='kw'>=</span> <span class='st'>"right"</span>)</div><div class='img'><img src='plot-5.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># MMs split by profile number</span>
<span class='no'>stacked</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='cregg.html'>cj</a></span>(<span class='no'>immigration</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>Gender</span> +
              <span class='no'>Education</span> + <span class='no'>LanguageSkills</span> + <span class='no'>CountryOfOrigin</span> + <span class='no'>Job</span> + <span class='no'>JobExperience</span> +
              <span class='no'>JobPlans</span> + <span class='no'>ReasonForApplication</span> + <span class='no'>PriorEntry</span>, <span class='kw'>id</span> <span class='kw'>=</span> ~ <span class='no'>CaseID</span>,
              <span class='kw'>estimate</span> <span class='kw'>=</span> <span class='st'>"mm"</span>, <span class='kw'>by</span> <span class='kw'>=</span> ~ <span class='no'>contest_no</span>)

<span class='co'>## plot with grouping</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>stacked</span>, <span class='kw'>group</span> <span class='kw'>=</span> <span class='st'>"contest_no"</span>, <span class='kw'>feature_headers</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='img'><img src='plot-6.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>## plot with facetting</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>stacked</span>) + <span class='kw pkg'>ggplot2</span><span class='kw ns'>::</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span>(~<span class='no'>contest_no</span>, <span class='kw'>nrow</span> <span class='kw'>=</span> <span class='fl'>1L</span>)</div><div class='img'><img src='plot-7.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>## plot with shapes instead of colors for groups</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>stacked</span>, <span class='kw'>group</span> <span class='kw'>=</span> <span class='st'>"contest_no"</span>, <span class='kw'>vline</span> <span class='kw'>=</span> <span class='fl'>0.5</span>) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span>(<span class='kw'>shape</span> <span class='kw'>=</span> <span class='no'>contest_no</span>) + <span class='co'># map group to `shape` aesthetic</span>
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_shape_manual</a></span>(<span class='kw'>values</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>4</span>, <span class='fl'>5</span>)) +
 <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_discrete_manual</a></span>(<span class='kw'>values</span><span class='kw'>=</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span>(<span class='st'>"black"</span>, <span class='fl'>5</span>)) <span class='co'># optionally, override colour</span></div><div class='output co'>#&gt; <span class='error'>Error in manual_scale(aesthetics, values, ...): argument "aesthetics" is missing, with no default</span></div><div class='input'>
<span class='co'># estimate AMCEs over different subsets of data</span>
<span class='no'>reasons12</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/subset.html'>subset</a></span>(
  <span class='no'>immigration</span>, <span class='no'>ReasonForApplication</span> <span class='kw'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/levels.html'>levels</a></span>(<span class='no'>ReasonForApplication</span>)[<span class='fl'>1</span>:<span class='fl'>2</span>]
)
<span class='no'>d2_1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='cregg.html'>cj</a></span>(<span class='no'>immigration</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>CountryOfOrigin</span>, <span class='kw'>id</span> <span class='kw'>=</span> ~ <span class='no'>CaseID</span>)
<span class='no'>d2_2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='cregg.html'>cj</a></span>(<span class='no'>reasons12</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>CountryOfOrigin</span>, <span class='kw'>id</span> <span class='kw'>=</span> ~ <span class='no'>CaseID</span>,
           <span class='kw'>feature_labels</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>CountryOfOrigin</span> <span class='kw'>=</span> <span class='st'>"Country Of Origin"</span>))
<span class='no'>d2_1</span>$<span class='no'>reasons</span> <span class='kw'>&lt;-</span> <span class='st'>"1,2,3"</span>
<span class='no'>d2_2</span>$<span class='no'>reasons</span> <span class='kw'>&lt;-</span> <span class='st'>"1,2"</span>
<span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/cbind.html'>rbind</a></span>(<span class='no'>d2_1</span>, <span class='no'>d2_2</span>), <span class='kw'>group</span> <span class='kw'>=</span> <span class='st'>"reasons"</span>)</div><div class='img'><img src='plot-8.png' alt='' width='700' height='433' /></div><div class='input'># }
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Thomas J. Leeper.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


