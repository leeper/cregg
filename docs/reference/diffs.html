<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Preference Heterogeneity Diagnostics — amce_diffs • cregg</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Preference Heterogeneity Diagnostics — amce_diffs" />
<meta property="og:description" content="Tests for preference heterogeneity in conjoint experiments" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">cregg</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Introduction.html">Introduction to cregg</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/leeper/cregg">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Preference Heterogeneity Diagnostics</h1>
    <small class="dont-index">Source: <a href='https://github.com/leeper/cregg/blob/master/R/amce_diffs.R'><code>R/amce_diffs.R</code></a>, <a href='https://github.com/leeper/cregg/blob/master/R/cj_anova.R'><code>R/cj_anova.R</code></a>, <a href='https://github.com/leeper/cregg/blob/master/R/mm_diffs.R'><code>R/mm_diffs.R</code></a></small>
    <div class="hidden name"><code>diffs.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Tests for preference heterogeneity in conjoint experiments</p>
    </div>

    <pre class="usage"><span class='fu'>amce_diffs</span>(
  <span class='no'>data</span>,
  <span class='no'>formula</span>,
  <span class='no'>by</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> ~<span class='fl'>0</span>,
  <span class='kw'>weights</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>feature_order</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>feature_labels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>level_order</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ascending"</span>, <span class='st'>"descending"</span>),
  <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>,
  <span class='no'>...</span>
)

<span class='fu'>cj_anova</span>(<span class='no'>data</span>, <span class='no'>formula</span>, <span class='kw'>id</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>weights</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>by</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>...</span>)

<span class='fu'>mm_diffs</span>(
  <span class='no'>data</span>,
  <span class='no'>formula</span>,
  <span class='no'>by</span>,
  <span class='kw'>id</span> <span class='kw'>=</span> ~<span class='fl'>0</span>,
  <span class='kw'>weights</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>feature_order</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>feature_labels</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>level_order</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"ascending"</span>, <span class='st'>"descending"</span>),
  <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>,
  <span class='kw'>h0</span> <span class='kw'>=</span> <span class='fl'>0</span>,
  <span class='no'>...</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame containing variables specified in <code>formula</code>. All RHS variables should be factors; the base level for each will be used in estimation and for AMCEs the base level's AMCE will be NA. Optionally, this can instead be an object of class &#8220;survey.design&#8221; returned by <code><a href='https://rdrr.io/pkg/survey/man/svydesign.html'>svydesign</a></code>.</p></td>
    </tr>
    <tr>
      <th>formula</th>
      <td><p>A formula specifying a model to be estimated. All variables should be factors; all levels across features should be unique.</p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p>A formula containing only RHS variables, specifying grouping factors over which to perform estimation. For <code>amce_diffs</code>, this can be a factor or something coercable to factor. For <code>mm_diffs</code>, differences are calculated against the base level of this variable.</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>Ignored.</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>An (optional) RHS formula specifying a variable holding survey weights.</p></td>
    </tr>
    <tr>
      <th>feature_order</th>
      <td><p>An (optional) character vector specifying the names of feature (RHS) variables in the order they should be encoded in the resulting data frame.</p></td>
    </tr>
    <tr>
      <th>feature_labels</th>
      <td><p>A named list of &#8220;fancy&#8221; feature labels to be used in output. By default, the function looks for a &#8220;label&#8221; attribute on each variable in <code>formula</code> and uses that for pretty printing. This argument overrides those attributes or otherwise provides fancy labels for this purpose. This should be a list with names equal to variables on the righthand side of <code>formula</code> and character string values; arguments passed here override variable attributes.</p></td>
    </tr>
    <tr>
      <th>level_order</th>
      <td><p>A character string specifying levels (within each feature) should be ordered increasing or decreasing in the final output. This is mostly only consequential for plotting via <code><a href='plot.html'>plot.cj_mm</a></code>, etc.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>A numeric value indicating the significance level at which to calculate confidence intervals for the MMs (by default 0.95, meaning 95-percent CIs are returned).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments to <code><a href='amce.html'>amce</a></code>, <code><a href='cj_freqs.html'>cj_freqs</a></code>, or <code><a href='mm.html'>mm</a></code>.</p></td>
    </tr>
    <tr>
      <th>h0</th>
      <td><p>A numeric value specifying a null hypothesis value to use when generating z-statistics and p-values (only used for <code>mm_diffs</code>).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>amce_diffs</code> and <code>mm_diffs</code> return a data frame similar to the one returned by <code><a href='cregg.html'>cj</a></code>, including a <code>BY</code> column (with the value &#8220;Difference&#8221;) for easy merging with results returned by that function.</p>
<p><code>cj_anova</code> returns an <code><a href='https://rdrr.io/r/stats/anova.html'>anova</a></code> object.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>cj_anova</code> takes a model formula (&#8220;reduced&#8221; model) and generates a &#8220;full&#8221; model with two-way interactions between the variables specified in <code>by</code> and all RHS variables in <code>formula</code>, then computes an F-test comparing the two models, providing a test for whether preferences vary across levels of <code>by</code>. This is, in essence, a test of whether all such interaction coefficients are distinguishable from zero. (Because the test depends on overall model fit, not the coefficient variances, clustering is irrelevant.)</p>
<p><code>mm_diffs</code> provides a data frame of differences in marginal means (literally differencing the results from <code><a href='mm.html'>mm</a></code> across levels of <code>by</code>. This provides the clearest direct measure of preference differences from a conjoint design.</p>
<p><code>amce_diffs</code> provides a data frame of differences in AMCEs (the coefficient on an interaction between each RHS factor and the variable in <code>by</code>). This provides an estimate of the difference in causal effects of each factor level relative to the baseline level (i.e., the difference in conditional AMCEs). This quantity is easily misinterpreted as the difference in preferences, which it is not. Rather it is a difference in the effect of the factor on preferences relative to the baseline/reference category of that feature. If preferences in the reference category differ across levels of <code>by</code>, the the difference in conditional AMCEs will have an unpredictable sign and significance, making differences in marginal means a more sensible quantity of interest. See <code><a href='amce.html'>amce_by_reference</a></code> for a diagnostic.</p>
<p>Note: <code>amce_diffs</code> does not work with constrained designs. To obtain such differences, subset the design by constraints and calculate differences within each subset.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='amce.html'>amce</a></code> <code><a href='mm.html'>mm</a></code> <code><a href='cj_freqs.html'>cj_freqs</a></code> <code><a href='plot.html'>plot.cj_amce</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='st'>"immigration"</span>)
<span class='no'>immigration</span>$<span class='no'>contest_no</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span>(<span class='no'>immigration</span>$<span class='no'>contest_no</span>)
<span class='co'># Test for heterogeneity by profile order</span>
<span class='fu'>cj_anova</span>(<span class='no'>immigration</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>Gender</span> + <span class='no'>Education</span> + <span class='no'>LanguageSkills</span>, <span class='kw'>by</span> <span class='kw'>=</span> ~ <span class='no'>contest_no</span>)</div><div class='output co'>#&gt; Analysis of Deviance Table
#&gt; 
#&gt; Model 1: ChosenImmigrant ~ Gender + Education + LanguageSkills
#&gt; Model 2: ChosenImmigrant ~ Gender + Education + LanguageSkills + contest_no + 
#&gt;     Gender:contest_no + Education:contest_no + LanguageSkills:contest_no
#&gt;   Resid. Df Resid. Dev Df Deviance      F Pr(&gt;F)
#&gt; 1     13949     3353.0                          
#&gt; 2     13905     3343.9 44    9.088 0.8589 0.7334</div><div class='input'>
<span class='co'># Test for heterogeneity by CountryOfOrigin feature</span>
<span class='fu'>cj_anova</span>(<span class='no'>immigration</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>Gender</span> + <span class='no'>Education</span>, <span class='kw'>by</span> <span class='kw'>=</span> ~ <span class='no'>CountryOfOrigin</span>)</div><div class='output co'>#&gt; Analysis of Deviance Table
#&gt; 
#&gt; Model 1: ChosenImmigrant ~ Gender + Education
#&gt; Model 2: ChosenImmigrant ~ Gender + Education + CountryOfOrigin + Gender:CountryOfOrigin + 
#&gt;     Education:CountryOfOrigin
#&gt;   Resid. Df Resid. Dev Df Deviance      F    Pr(&gt;F)    
#&gt; 1     13952     3407.8                                 
#&gt; 2     13880     3374.5 72   33.286 1.9016 6.756e-06 ***
#&gt; ---
#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</div><div class='input'>
<span class='co'># \donttest{</span>
<span class='co'># Differences in MMs by Gender feature</span>
<span class='fu'>mm_diffs</span>(<span class='no'>immigration</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>LanguageSkills</span> + <span class='no'>Education</span>, ~ <span class='no'>Gender</span>, <span class='kw'>id</span> <span class='kw'>=</span> ~ <span class='no'>CaseID</span>)</div><div class='output co'>#&gt;               BY     statistic         outcome                feature
#&gt; 1  Male - Female mm_difference ChosenImmigrant        Language Skills
#&gt; 2  Male - Female mm_difference ChosenImmigrant        Language Skills
#&gt; 3  Male - Female mm_difference ChosenImmigrant        Language Skills
#&gt; 4  Male - Female mm_difference ChosenImmigrant        Language Skills
#&gt; 5  Male - Female mm_difference ChosenImmigrant Educational Attainment
#&gt; 6  Male - Female mm_difference ChosenImmigrant Educational Attainment
#&gt; 7  Male - Female mm_difference ChosenImmigrant Educational Attainment
#&gt; 8  Male - Female mm_difference ChosenImmigrant Educational Attainment
#&gt; 9  Male - Female mm_difference ChosenImmigrant Educational Attainment
#&gt; 10 Male - Female mm_difference ChosenImmigrant Educational Attainment
#&gt; 11 Male - Female mm_difference ChosenImmigrant Educational Attainment
#&gt;                       level     estimate  std.error          z           p
#&gt; 1            Fluent English -0.015436300 0.01564954 -0.9863741 0.323949592
#&gt; 2            Broken English -0.047683617 0.01593767 -2.9918819 0.002772635
#&gt; 3  Tried English but Unable -0.009770039 0.01591358 -0.6139436 0.539252607
#&gt; 4          Used Interpreter -0.030670893 0.01594758 -1.9232320 0.054450926
#&gt; 5                 No Formal -0.008679690 0.02149994 -0.4037077 0.686427677
#&gt; 6                 4th Grade -0.007051326 0.02162325 -0.3260992 0.744349269
#&gt; 7                 8th Grade -0.029815233 0.02129659 -1.4000003 0.161513221
#&gt; 8               High School -0.018077430 0.02147494 -0.8417919 0.399904458
#&gt; 9          Two-Year College -0.049321323 0.02130677 -2.3148192 0.020622828
#&gt; 10           College Degree -0.021520237 0.02136533 -1.0072502 0.313814576
#&gt; 11          Graduate Degree -0.044846098 0.02138557 -2.0970264 0.035991236
#&gt;          lower         upper Gender
#&gt; 1  -0.04610884  0.0152362347   Male
#&gt; 2  -0.07892087 -0.0164463646   Male
#&gt; 3  -0.04096008  0.0214199996   Male
#&gt; 4  -0.06192757  0.0005857869   Male
#&gt; 5  -0.05081879  0.0334594130   Male
#&gt; 6  -0.04943212  0.0353294660   Male
#&gt; 7  -0.07155578  0.0119253167   Male
#&gt; 8  -0.06016754  0.0240126790   Male
#&gt; 9  -0.09108183 -0.0075608190   Male
#&gt; 10 -0.06339552  0.0203550500   Male
#&gt; 11 -0.08676104 -0.0029311580   Male</div><div class='input'>
<span class='co'># Differences in AMCEs by Gender feature (i.e., feature interactions)</span>
<span class='fu'>amce_diffs</span>(<span class='no'>immigration</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>LanguageSkills</span> + <span class='no'>Education</span>, ~ <span class='no'>Gender</span>, <span class='kw'>id</span> <span class='kw'>=</span> ~ <span class='no'>CaseID</span>)</div><div class='output co'>#&gt;              BY         outcome       statistic                feature
#&gt; 1 Male - Female ChosenImmigrant amce_difference Educational Attainment
#&gt; 2 Male - Female ChosenImmigrant amce_difference Educational Attainment
#&gt; 3 Male - Female ChosenImmigrant amce_difference Educational Attainment
#&gt; 4 Male - Female ChosenImmigrant amce_difference Educational Attainment
#&gt; 5 Male - Female ChosenImmigrant amce_difference Educational Attainment
#&gt; 6 Male - Female ChosenImmigrant amce_difference Educational Attainment
#&gt; 7 Male - Female ChosenImmigrant amce_difference        Language Skills
#&gt; 8 Male - Female ChosenImmigrant amce_difference        Language Skills
#&gt; 9 Male - Female ChosenImmigrant amce_difference        Language Skills
#&gt;                      level Gender     estimate  std.error          z         p
#&gt; 1                4th Grade   Male -0.005966999 0.03172945 -0.1880587 0.8508306
#&gt; 2                8th Grade   Male -0.030625179 0.03090707 -0.9908793 0.3217445
#&gt; 3           College Degree   Male -0.014844848 0.03107888 -0.4776507 0.6328989
#&gt; 4          Graduate Degree   Male -0.042143177 0.03134662 -1.3444249 0.1788110
#&gt; 5              High School   Male -0.013956325 0.03121208 -0.4471450 0.6547704
#&gt; 6         Two-Year College   Male -0.047183288 0.03112293 -1.5160299 0.1295118
#&gt; 7           Broken English   Male -0.029903918 0.02329320 -1.2838049 0.1992102
#&gt; 8 Tried English but Unable   Male  0.004543744 0.02291366  0.1982985 0.8428115
#&gt; 9         Used Interpreter   Male -0.013293411 0.02371292 -0.5605978 0.5750718
#&gt;         lower      upper
#&gt; 1 -0.06815558 0.05622158
#&gt; 2 -0.09120193 0.02995157
#&gt; 3 -0.07575833 0.04606864
#&gt; 4 -0.10358142 0.01929507
#&gt; 5 -0.07513088 0.04721823
#&gt; 6 -0.10818311 0.01381653
#&gt; 7 -0.07555774 0.01574991
#&gt; 8 -0.04036620 0.04945369
#&gt; 9 -0.05976988 0.03318306</div><div class='input'><span class='co'># }</span>

<span class='co'># preferences differ for Male and Female immigrants with 'Broken English' ability</span>
(<span class='no'>m1</span> <span class='kw'>&lt;-</span> <span class='fu'>mm_diffs</span>(<span class='no'>immigration</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>LanguageSkills</span>, ~ <span class='no'>Gender</span>, <span class='kw'>id</span> <span class='kw'>=</span> ~ <span class='no'>CaseID</span>))</div><div class='output co'>#&gt;              BY     statistic         outcome         feature
#&gt; 1 Male - Female mm_difference ChosenImmigrant Language Skills
#&gt; 2 Male - Female mm_difference ChosenImmigrant Language Skills
#&gt; 3 Male - Female mm_difference ChosenImmigrant Language Skills
#&gt; 4 Male - Female mm_difference ChosenImmigrant Language Skills
#&gt;                      level     estimate  std.error          z           p
#&gt; 1           Fluent English -0.015436300 0.01564954 -0.9863741 0.323949592
#&gt; 2           Broken English -0.047683617 0.01593767 -2.9918819 0.002772635
#&gt; 3 Tried English but Unable -0.009770039 0.01591358 -0.6139436 0.539252607
#&gt; 4         Used Interpreter -0.030670893 0.01594758 -1.9232320 0.054450926
#&gt;         lower         upper Gender
#&gt; 1 -0.04610884  0.0152362347   Male
#&gt; 2 -0.07892087 -0.0164463646   Male
#&gt; 3 -0.04096008  0.0214199996   Male
#&gt; 4 -0.06192757  0.0005857869   Male</div><div class='input'>
<span class='co'># yet differences in conditional AMCEs  depend on the reference category</span>
<span class='fu'>amce_diffs</span>(<span class='no'>immigration</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>LanguageSkills</span>, ~ <span class='no'>Gender</span>, <span class='kw'>id</span> <span class='kw'>=</span> ~ <span class='no'>CaseID</span>)</div><div class='output co'>#&gt;              BY         outcome       statistic         feature
#&gt; 1 Male - Female ChosenImmigrant amce_difference Language Skills
#&gt; 2 Male - Female ChosenImmigrant amce_difference Language Skills
#&gt; 3 Male - Female ChosenImmigrant amce_difference Language Skills
#&gt;                      level Gender     estimate  std.error          z         p
#&gt; 1           Broken English   Male -0.032247317 0.02366186 -1.3628393 0.1729332
#&gt; 2 Tried English but Unable   Male  0.005666262 0.02313999  0.2448688 0.8065580
#&gt; 3         Used Interpreter   Male -0.015234592 0.02388354 -0.6378698 0.5235584
#&gt;         lower      upper
#&gt; 1 -0.07862372 0.01412908
#&gt; 2 -0.03968728 0.05101980
#&gt; 3 -0.06204548 0.03157629</div><div class='input'><span class='no'>immigration</span>$<span class='no'>LanguageSkills2</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/relevel.html'>relevel</a></span>(<span class='no'>immigration</span>$<span class='no'>LanguageSkills</span>, <span class='st'>"Used Interpreter"</span>)
<span class='fu'>amce_diffs</span>(<span class='no'>immigration</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>LanguageSkills2</span>, ~ <span class='no'>Gender</span>, <span class='kw'>id</span> <span class='kw'>=</span> ~ <span class='no'>CaseID</span>)</div><div class='output co'>#&gt;              BY         outcome       statistic         feature
#&gt; 1 Male - Female ChosenImmigrant amce_difference LanguageSkills2
#&gt; 2 Male - Female ChosenImmigrant amce_difference LanguageSkills2
#&gt; 3 Male - Female ChosenImmigrant amce_difference LanguageSkills2
#&gt;                      level Gender    estimate  std.error          z         p
#&gt; 1           Broken English   Male -0.01701272 0.02372866 -0.7169694 0.4733930
#&gt; 2           Fluent English   Male  0.01523459 0.02388354  0.6378698 0.5235584
#&gt; 3 Tried English but Unable   Male  0.02090085 0.02366212  0.8833043 0.3770719
#&gt;         lower      upper
#&gt; 1 -0.06352005 0.02949460
#&gt; 2 -0.03157629 0.06204548
#&gt; 3 -0.02547605 0.06727776</div><div class='input'>
<span class='co'># while differences in MMs do not depend on the reference cateory</span>
(<span class='no'>m2</span> <span class='kw'>&lt;-</span> <span class='fu'>mm_diffs</span>(<span class='no'>immigration</span>, <span class='no'>ChosenImmigrant</span> ~ <span class='no'>LanguageSkills2</span>, ~ <span class='no'>Gender</span>, <span class='kw'>id</span> <span class='kw'>=</span> ~ <span class='no'>CaseID</span>))</div><div class='output co'>#&gt;              BY     statistic         outcome         feature
#&gt; 1 Male - Female mm_difference ChosenImmigrant LanguageSkills2
#&gt; 2 Male - Female mm_difference ChosenImmigrant LanguageSkills2
#&gt; 3 Male - Female mm_difference ChosenImmigrant LanguageSkills2
#&gt; 4 Male - Female mm_difference ChosenImmigrant LanguageSkills2
#&gt;                      level     estimate  std.error          z           p
#&gt; 1         Used Interpreter -0.030670893 0.01594758 -1.9232320 0.054450926
#&gt; 2           Fluent English -0.015436300 0.01564954 -0.9863741 0.323949592
#&gt; 3           Broken English -0.047683617 0.01593767 -2.9918819 0.002772635
#&gt; 4 Tried English but Unable -0.009770039 0.01591358 -0.6139436 0.539252607
#&gt;         lower         upper Gender
#&gt; 1 -0.06192757  0.0005857869   Male
#&gt; 2 -0.04610884  0.0152362347   Male
#&gt; 3 -0.07892087 -0.0164463646   Male
#&gt; 4 -0.04096008  0.0214199996   Male</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Thomas J. Leeper &lt;thosjleeper@gmail.com&gt;</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Thomas J. Leeper.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


